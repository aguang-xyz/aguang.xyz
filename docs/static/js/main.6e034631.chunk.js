(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,n){e.exports=n(287)},108:function(e,t,n){},233:function(e,t,n){},234:function(e,t){},252:function(e,t){},283:function(e,t,n){},287:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(86),c=n.n(o),i=n(99),l=n(16);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(108);var s=n(2),u=n(3),p=n(5),h=n(4),m=n(6),d=n(33),f=n.n(d),g=n(87),v=n.n(g),b=n(34),y=n.n(b),E=n(88),j=n(35),O=function(e){function t(){return Object(s.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("header",{className:y.a.header},r.a.createElement("p",{className:y.a.headerTitle},r.a.createElement("a",{href:"/",className:y.a.headerLink},"Aguang's Blog")),r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"https://t.me/aguang_xyz"},r.a.createElement(E.a,null))),r.a.createElement("li",null,r.a.createElement("a",{href:"https://github.com/aguang-xyz"},r.a.createElement(j.a,null))),r.a.createElement("li",null,r.a.createElement("a",{href:"https://www.linkedin.com/in/wang-guangrui-80337a193/"},r.a.createElement(j.b,null))),r.a.createElement("li",null,r.a.createElement("a",{href:"mailto:aguang.xyz@gmail.com"},r.a.createElement(j.c,null))))))}}]),t}(r.a.Component),k=n(89),w=n.n(k),x=function(e){function t(){return Object(s.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:w.a.container},r.a.createElement("input",{placeholder:"Search..",value:this.props.change,onChange:function(t){return e.props.onChange(t.target.value)}}))}}]),t}(r.a.Component),C=n(102),_=n(48),M=n(90),N=n.n(M),S={mobile:[[],[[0,0]],[[0,0],[1,1],[1,1]],[[0,0],[1,2],[1,2]],[[0,0],[1,2],[1,3],[1,3]],[[0,0],[1,2],[1,4],[3,4]]],desktop:[[],[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],[[0,0,0,1,1,1],[0,0,0,1,1,1],[0,0,0,1,1,1]],[[0,0,0,1,1,1],[0,0,0,1,1,1],[0,0,0,2,2,2],[0,0,0,2,2,2]],[[0,0,0,1,1,2],[0,0,0,1,1,2],[0,0,0,3,3,3],[0,0,0,3,3,3]],[[0,0,0,1,1,2],[0,0,0,1,1,2],[0,0,0,4,4,4],[3,3,3,4,4,4],[3,3,3,4,4,4]],[[0,0,0,1,1,2],[0,0,0,1,1,2],[0,0,0,5,5,5],[3,4,4,5,5,5],[3,4,4,5,5,5]]]},L=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={layout:n.getLayout()},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"getLayout",value:function(){return window.innerWidth<=600?S.mobile:S.desktop}},{key:"getColumns",value:function(e){return e[1][0].length}},{key:"getMaxElements",value:function(e){return e.length-1}},{key:"getStyle",value:function(){for(var e=this,t=this.state.layout,n=this.props.style?this.props.style:{},a=r.a.Children.toArray(this.props.children),o=this.getColumns(t),c="",i=0,l=function(n){var r=Object(_.min)([a.length-n,e.getMaxElements(t)]);Object(_.cloneDeep)(t[r]).map(function(e){return e.map(function(e){return"p".concat(e+n)})}).map(function(e){return e.join(" ")}).forEach(function(e){i++,c+="'".concat(e,"'\n")}),s=n+=r},s=0;s<a.length;)l(s);return console.log(c),Object(C.a)({gridTemplateRows:"repeat(".concat(i,", 10rem)"),gridTemplateColumns:"repeat(".concat(o,", 1fr)"),gridTemplateAreas:c},n)}},{key:"componentDidMount",value:function(){var e=this;this._resizeHandler=window.addEventListener("resize",function(){e.setState({layout:e.getLayout()})})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeHandler)}},{key:"getClassName",value:function(){var e=[N.a.container];return this.props.className&&e.push(this.props.className),e.join(" ")}},{key:"render",value:function(){return r.a.createElement("div",{className:this.getClassName(),style:this.getStyle()},r.a.Children.map(this.props.children,function(e,t){return r.a.createElement("div",{key:t,style:{gridArea:"p".concat(t)}},e)}))}}]),t}(r.a.Component),z=n(49),A=n.n(z),T=n(91),W=n.n(T),D=n(92),U=n.n(D),$=n(93),B=n.n($),F=(n(233),n(94)),I=n(50),G=n.n(I),J=n(95),R=n.n(J),H=n(96),P=n.n(H),V=n(97),q=n.n(V),Z=new F.a({render:G.a.render,Module:G.a.Module}),K=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={graph:null},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"updateGraph",value:function(e){var t=this,n=e.engine||"dot",a=e.content;Z.renderString(a,{engine:n}).then(function(e){e=P.a.sanitize(e),t.setState({graph:e})})}},{key:"componentDidMount",value:function(){this.updateGraph(this.props)}},{key:"componentDidUpdate",value:function(e){e.engine===this.props.engine&&e.content===this.props.content||this.updateGraph(this.props)}},{key:"render",value:function(){return r.a.createElement("div",{className:q.a.container},R()(this.state.graph))}}]),t}(r.a.Component),Q=n(9),Y=n.n(Q),X=(n(267),n(268),n(84),n(85),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).textarea=r.a.createRef(),n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"getMode",value:function(e){return{c:"text/x-csrc","c++":"text/x-c++src",bash:"text/x-sh"}[e.language]}},{key:"bindCodeMirror",value:function(e){if(this.textarea.current){var t={readOnly:!0,indentUnit:2,tabSize:2,indentWithTabs:!1,keyMap:"vim",lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],extraKeys:{"Ctrl-F":function(e){e.setOption("fullScreen",!e.getOption("fullScreen"))},Esc:function(e){e.setOption("fullScreen",!1)},"Ctrl-A":function(e){e.execCommand("selectAll")}},theme:"solarized dark",viewportMargin:1/0,mode:this.getMode(this.props)};Y.a.fromTextArea(this.textarea.current,t)}}},{key:"componentDidMount",value:function(){this.bindCodeMirror(this.props)}},{key:"render",value:function(){var e=this.props,t=e.language,n=e.content;return"dot"===t?r.a.createElement(K,{engine:"dot",content:n}):r.a.createElement("textarea",{ref:this.textarea,defaultValue:n})}}]),t}(r.a.Component)),ee=n(51),te=n.n(ee),ne=(n(285),n(52)),ae=n.n(ne),re={Block:function(e){function t(){return Object(s.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.content;return r.a.createElement("span",{className:ae.a.block},r.a.createElement(te.a,null,e))}}]),t}(r.a.Component),Inline:function(e){function t(){return Object(s.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.content;return r.a.createElement("span",{className:ae.a.inline},r.a.createElement(te.a,null,e))}}]),t}(r.a.Component)},oe=f.a.create({baseURL:"/posts"}),ce=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={content:"Loading.."},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"parseTitle",value:function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)if(t[n].startsWith("# "))return t[n].substring(2);return null}},{key:"loadContent",value:function(e){var t=this;oe.get("".concat(e,".md")).then(function(e){if(200!==e.status)throw new Error("Failed to load");var n=t.parseTitle(e.data);null===n||t.props.preview||(document.title=n),t.setState({content:e.data})}).catch(function(e){t.setState({content:"# Page not found"})})}},{key:"componentDidMount",value:function(){this.loadContent(this.props.id)}},{key:"componentDidUpdate",value:function(e){e.id!==this.props.id&&this.loadContent(this.props.id)}},{key:"render",value:function(){var e=this,t=[B.a.container,"markdown-body"];return this.props.preview&&t.push("preview"),r.a.createElement("article",{className:"".concat(t.join(" "))},r.a.createElement(W.a,{source:this.state.content,plugins:[U.a],renderers:{math:function(e){return r.a.createElement(re.Block,{content:"$$".concat(e.value,"$$")})},inlineMath:function(e){return r.a.createElement(re.Inline,{content:"$".concat(e.value,"$")})},code:function(t){var n=t.language,a=t.value;return e.props.preview&&"dot"!==n?r.a.createElement("pre",null,r.a.createElement("code",null,a)):r.a.createElement(X,{language:n,content:a})}}}))}}]),t}(r.a.Component),ie=n(98),le=n.n(ie),se=function(e){return r.a.createElement("div",{className:le.a.container,style:{backgroundImage:"url(".concat(e.src,")")}})},ue=function(e){var t=[A.a.container];return e.image&&t.push(A.a.imageContainer),r.a.createElement("div",{className:t.join(" "),style:e.style,onClick:function(){return window.location.assign(function(e){return e.link?e.link:"#/post/".concat(e.id)}(e))}},r.a.createElement("figcaption",null,r.a.createElement("p",null,e.title)),function(e){return e.image?r.a.createElement(se,{src:e.image}):r.a.createElement(ce,{id:e.id,preview:!0})}(e))},pe=f.a.create({baseURL:"posts"}),he=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",posts:[],search:""},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"loadContent",value:function(e){var t=this,n=e.match.params.category;pe.get(n?"".concat(n,"/index.yaml"):"index.yaml").then(function(e){if(200!==e.status)throw new Error("Failed to load");var n=v.a.safeLoad(e.data),a=n.title,r=n.posts;t.setState({title:a,posts:r})}).catch(function(e){t.setState({title:"",posts:[]})})}},{key:"componentDidMount",value:function(){this.loadContent(this.props)}},{key:"filteredPosts",value:function(){var e=this.state,t=e.search;return e.posts.filter(function(e){return-1!==e.title.toLowerCase().indexOf(t.toLowerCase())})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{minHeight:"100vh",backgroundColor:"#000"}},r.a.createElement(O,null),r.a.createElement(x,{value:this.state.search,onChange:function(t){e.setState({search:t})}}),r.a.createElement(L,null,this.filteredPosts().map(function(e,t){return r.a.createElement(ue,Object.assign({key:e.id},e))})))}}]),t}(r.a.Component),me=function(e){function t(){return Object(s.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.match.params,t=e.category,n=e.name;return r.a.createElement("div",null,r.a.createElement(O,null),r.a.createElement(ce,{id:"".concat(t,"/").concat(n)}))}}]),t}(r.a.Component);c.a.render(r.a.createElement(function(){return r.a.createElement(i.a,null,r.a.createElement(l.a,{path:"/",exact:!0,component:he}),r.a.createElement(l.a,{path:"/post/:category",exact:!0,component:he}),r.a.createElement(l.a,{path:"/post/:category/:name",exact:!0,component:me}))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},34:function(e,t,n){e.exports={header:"header_header__2eggW",headerTitle:"header_headerTitle__3mVQF",headerLink:"header_headerLink__qLoAr"}},49:function(e,t,n){e.exports={container:"post-preview_container__wJEqz"}},52:function(e,t,n){e.exports={block:"latex_block__2TW2n",inline:"latex_inline__gYLjT"}},71:function(e,t){},72:function(e,t){},89:function(e,t,n){e.exports={container:"search-box_container__tJoFh"}},90:function(e,t,n){e.exports={container:"grid-flow_container__2UUId"}},93:function(e,t,n){e.exports={container:"post-view_container__3ZSNx"}},97:function(e,t,n){e.exports={container:"graphviz_container__20tt1"}},98:function(e,t,n){e.exports={container:"image-view_container__2SZVi"}}},[[103,1,2]]]);
//# sourceMappingURL=main.6e034631.chunk.js.map